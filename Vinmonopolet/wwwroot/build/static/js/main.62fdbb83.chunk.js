(this["webpackJsonpoldev-ts"]=this["webpackJsonpoldev-ts"]||[]).push([[0],{17:function(e,t,a){e.exports={cardBackground:"white",borders:"#cccccc",topRow:"CardFront_topRow___2shy",brewery:"CardFront_brewery__12LHP",name:"CardFront_name__3f43k",style:"CardFront_style__3A0i6",primaryStyle:"CardFront_primaryStyle__3ObOx",secondaryStyle:"CardFront_secondaryStyle__39DI8",baseStats:"CardFront_baseStats__TBFk2",labelWrapper:"CardFront_labelWrapper__3IDHX",labelImage:"CardFront_labelImage__lYoo4"}},22:function(e,t,a){e.exports={cardBackground:"white",borders:"#cccccc",wrapper:"Header_wrapper__35pCU",logo:"Header_logo__3_oDo",spacer:"Header_spacer__9H8XE",inside:"Header_inside__3nHW8",filterButton:"Header_filterButton__T0Rvi buttons_button__1-y6A",buttonGroup:"Header_buttonGroup__3BZ3g",filtersAndButtons:"Header_filtersAndButtons__2eXga"}},25:function(e,t,a){e.exports={cardBackground:"white",borders:"#cccccc",wrapping:"SortingField_wrapping__2qS3_ filterCards_baseFilterModule__onm-r",dropdownWrap:"SortingField_dropdownWrap__2O726",dropdown:"SortingField_dropdown__1fzGx",checkboxWrap:"SortingField_checkboxWrap__15Kgg"}},31:function(e,t,a){e.exports={cardBackground:"white",borders:"#cccccc",wrapper:"StoreFilter_wrapper__3zOVV filterCards_baseFilterModule__onm-r",select:"StoreFilter_select__2Iung",option:"StoreFilter_option__1XQ7F",textField:"StoreFilter_textField__3xYjU",clearButton:"StoreFilter_clearButton__3mh2z buttons_button__1-y6A"}},38:function(e,t,a){e.exports={cardBackground:"white",borders:"#cccccc",wrapping:"CardBase_wrapping__bko7g",setup:"CardBase_setup__1g07b",content:"CardBase_content__3Fuu9"}},40:function(e,t,a){e.exports={cardBackground:"white",borders:"#cccccc",wrapper:"SearchFilter_wrapper__XT3hd",textField:"SearchFilter_textField__3kOiZ",searchButton:"SearchFilter_searchButton__2i5yX buttons_button__1-y6A"}},42:function(e,t,a){e.exports={container:"BaseView_container__2R3hM",beerFlow:"BaseView_beerFlow__3s1GA"}},43:function(e,t,a){e.exports={loader:"loader_loader__20fR4",load1:"loader_load1__1Jq6F"}},44:function(e,t,a){e.exports={container:"StarRating_container__4vOPB",text:"StarRating_text__3ts49"}},46:function(e,t,a){e.exports={cardBackground:"white",borders:"#cccccc",rangeWrapper:"RangeFilter_rangeWrapper__3qW8a filterCards_baseFilterModule__onm-r",label:"RangeFilter_label__3h73u"}},47:function(e,t,a){e.exports={cardBackground:"white",borders:"#cccccc",wrapper:"RatingFilter_wrapper__1xZvR filterCards_baseFilterModule__onm-r",slider:"RatingFilter_slider__1l3Mf"}},62:function(e,t,a){e.exports={stockContent:"StockCard_stockContent__12kCO"}},71:function(e,t,a){e.exports=a(99)},76:function(e,t,a){},77:function(e,t,a){},99:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),c=a(8),o=a.n(c),l=(a(76),a(77),a(6)),s=a(61),i=a(42),u=a.n(i),m=a(43),d=a.n(m),p=a(38),v=a.n(p),f=a(17),b=a.n(f),_=a(44),g=a.n(_),h=function(e){var t=e.rating,a=t/5*75||0;return n.a.createElement("div",{className:g.a.container},n.a.createElement("svg",{height:"15",width:"75",xmlns:"http://www.w3.org/2000/svg"},n.a.createElement("defs",null,n.a.createElement("pattern",{id:"stars",x:"1",y:"1",height:"15",width:"15",patternUnits:"userSpaceOnUse"},n.a.createElement("svg",{viewBox:"1 1 22 22",height:"15",width:"15"},n.a.createElement("polygon",{points:"9.9, 1.1, 3.3, 21.78, 19.8, 8.58, 0, 8.58, 16.5, 21.78",fill:"orange"})))),n.a.createElement("rect",{height:"15",width:a,stroke:"orange0",fill:"url(#stars)"}),n.a.createElement("text",{className:g.a.text,x:"5",y:"15",fontWeight:"bold",fontSize:"14",fill:"black"},t&&t.toFixed(2))))},E=function(e){var t=e.beer,a=t.style?[t.style.split(" - ")[0],t.style.split(" - ")[1]]:["",""],r=Object(l.a)(a,2),c=r[0],o=r[1];return n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:b.a.topRow},n.a.createElement(h,{rating:t.averageScore}),n.a.createElement("div",{className:b.a.baseStats},t.abv," % - ",t.volume," cl - ",Math.round(t.price)," kr")),n.a.createElement("div",{className:b.a.brewery},t.brewery),n.a.createElement("div",{className:b.a.name},t.name),n.a.createElement("div",{className:b.a.style},n.a.createElement("span",{className:b.a.primaryStyle},c),n.a.createElement("span",{className:b.a.secondaryStyle},o||"-")))},w="https://untappd.akamaized.net/site/assets/images/temp/badge-beer-default.png",x=function(e){var t=e.beer,a=t.untappdId?t.labelUrl:w;return n.a.createElement("a",{href:"https://untappd.com/beer/"+t.untappdId,target:"_blank",rel:"noopener noreferrer",className:b.a.labelWrapper},n.a.createElement("img",{className:b.a.labelImage,src:a,onError:function(e){e.target.src=w},alt:"Loading..."}))},C=a(62),N=a.n(C),S=a(15),y=a(63),k=a(45),O=a.n(k),j=a(64),F=a(39),B=a.n(F),R=n.a.createContext({state:{query:"",apiResponse:[],newBeerResponse:[]},rawStores:function(){return[]},setQuery:function(e){},getData:function(){}}),L=function(e){var t=Object(r.useState)("*"),a=Object(l.a)(t,2),c=a[0],o=a[1],s=Object(r.useState)([]),i=Object(l.a)(s,2),u=i[0],m=i[1],d=Object(r.useState)([]),p=Object(l.a)(d,2),v=p[0],f=p[1],b=function(){var e=u.map((function(e){return e.storeStocks})).reduce((function(e,t){return e.concat(t)}),[]);return Array.from(new Set(e.map((function(e){return e.storeId})))).map((function(t){var a;return{storeId:t,storeName:(null===(a=e.find((function(e){return e.storeId===t})))||void 0===a?void 0:a.storeName)||""}})).sort((function(e,t){return e.storeName<t.storeName?-1:e.storeName>t.storeName?1:0}))},_=function(){var e=Object(j.a)(O.a.mark((function e(){var t,a,r;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==c){e.next=11;break}return e.next=3,B.a.request({url:"https://\xf8l.dev/api/beers?query=*"});case 3:return t=e.sent,e.t0=m,e.next=7,t.data;case 7:e.t1=e.sent,(0,e.t0)(e.t1),e.next=19;break;case 11:return e.next=13,B.a.request({url:"https://\xf8l.dev/api/beers?query="+c});case 13:return a=e.sent,e.t2=m,e.next=17,a.data;case 17:e.t3=e.sent,(0,e.t2)(e.t3);case 19:return e.next=21,B.a.request({url:"https://\xf8l.dev/api/new"});case 21:return r=e.sent,e.t4=f,e.next=25,r.data;case 25:e.t5=e.sent,(0,e.t4)(e.t5);case 27:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(r.useEffect)((function(){_()}),[]),Object(r.useEffect)((function(){b()}),[u]);var g={query:c,apiResponse:u,newBeerResponse:v};return n.a.createElement(R.Provider,{value:{state:g,rawStores:b,setQuery:o,getData:_}},e.children)},W=R,I={averageScore:0,price:[0,1e3],volume:[0,600],abv:[0,25],store:[],brewery:[],style:[],onNewList:!1,toBeAnnounced:!1},A=n.a.createContext({state:I,filteredBeer:[],showNew:!1,setNew:function(){},tba:!1,setTba:function(){},setFilter:function(){},applyFilter:function(){}}),M=function(e){var t=Object(r.useState)(I),a=Object(l.a)(t,2),c=a[0],o=a[1],s=Object(r.useState)([]),i=Object(l.a)(s,2),u=i[0],m=i[1],d=Object(r.useState)(!1),p=Object(l.a)(d,2),v=p[0],f=p[1],b=Object(r.useState)(!1),_=Object(l.a)(b,2),g=_[0],h=_[1],E=Object(r.useContext)(W),w=function(){var e=g?E.state.newBeerResponse:E.state.apiResponse;v&&(e=e.filter((function(e){return!0===e.onNewProductList}))),c.averageScore>0&&(e=e.filter((function(e){return e.averageScore>c.averageScore}))),c.store.length>0&&(e=e.filter((function(e){return e.storeStocks.map((function(e){return e.storeId})).some((function(e){return c.store.map((function(t){return t===e})).some((function(e){return!0===e}))}))}))),e=e.filter((function(e){return e.price>=c.price[0]&&e.price<=c.price[1]})).filter((function(e){return e.averageScore>=c.averageScore})).filter((function(e){return e.volume>=c.volume[0]&&e.volume<=c.volume[1]})).filter((function(e){return e.abv>=c.abv[0]&&e.abv<=c.abv[1]})),m(e)};return Object(r.useEffect)((function(){w()}),[E.state.apiResponse,g,v]),n.a.createElement(A.Provider,{value:{state:c,showNew:v,setNew:f,tba:g,setTba:h,setFilter:function(e){o(Object(y.a)({},c,Object(S.a)({},e.name,e.value)))},filteredBeer:u,applyFilter:w}},e.children)},P=A,V=function(e){var t=e.beer,a=Object(r.useContext)(P);return n.a.createElement("div",{className:N.a.stockContent},function(){var e=t.storeStocks;return a.state.store.length>0&&(e=e.filter((function(e){return a.state.store.includes(e.storeId)}))),e}().sort((function(e,t){return t.stockLevel-e.stockLevel})).map((function(e){return n.a.createElement("div",{key:e.storeId+t.materialNumber}," ",function(e){var t=e.split(",");return t[t.length-1]}(e.storeName),":",e.stockLevel.toString().padStart(3,"\xa0")," ")})))},D=function(e){var t=e.beer,a=Object(r.useState)(!0),c=Object(l.a)(a,2),o=c[0],s=c[1],i=t.storeStocks.sort((function(e,t){return t.stockLevel-e.stockLevel})).map((function(e){return e.storeName+" : "+e.stockLevel+" \n"})).join("");return n.a.createElement("div",{className:v.a.wrapping},n.a.createElement("div",{className:v.a.setup,title:i},n.a.createElement(x,{beer:t}),n.a.createElement("div",{className:v.a.content,onClick:function(){return s(!o)}},o?n.a.createElement(E,{beer:t}):n.a.createElement(V,{beer:t}))))},H=n.a.createContext({sortedBeers:[],descending:!0,setSorting:function(){},setDecending:function(){}}),q=function(e){var t=Object(r.useState)([]),a=Object(l.a)(t,2),c=a[0],o=a[1],s=Object(r.useState)("averageScore"),i=Object(l.a)(s,2),u=i[0],m=i[1],d=Object(r.useState)(!0),p=Object(l.a)(d,2),v=p[0],f=p[1],b=Object(r.useContext)(P),_=function(e,t){return e?b.filteredBeer.sort((function(e,a){return a[t]-e[t]})):b.filteredBeer.sort((function(e,a){return e[t]-a[t]}))};return Object(r.useEffect)((function(){var e=_(v,u);o(e)}),[b.filteredBeer]),Object(r.useEffect)((function(){var e=_(v,u);o(e)}),[]),n.a.createElement(H.Provider,{value:{sortedBeers:c,descending:v,setSorting:function(e){m(e);var t=_(v,e);o(t)},setDecending:function(e){f(e);var t=_(e,u);o(t)}}},e.children)},z=H,T=function(){var e=Object(r.useContext)(z),t=Object(r.useState)([]),a=Object(l.a)(t,2),c=a[0],o=a[1];return Object(r.useEffect)((function(){var t;o((null===(t=e.sortedBeers)||void 0===t?void 0:t.slice(0,300))||[])}),[e.sortedBeers[0],e.sortedBeers.length]),n.a.createElement("div",{className:u.a.container},c&&n.a.createElement(s.a,{dataLength:c.length,className:u.a.beerFlow,next:function(){c.length<e.sortedBeers.length&&o(c.concat(e.sortedBeers.slice(c.length,c.length+300)))},hasMore:e.sortedBeers.length>c.length,loader:n.a.createElement("div",{className:d.a.loader})},c.map((function(e){return n.a.createElement(D,{key:e.materialNumber+e.name+e.volume,beer:e})}))),!e.sortedBeers&&n.a.createElement("div",{className:d.a.loader}))},U=a(22),X=a.n(U),Z=a(131),G=a(46),Q=a.n(G),J=function(e){var t=e.max,a=e.min,r=e.values,c=(e.variable,e.variableName),o=e.setValues;return n.a.createElement("div",{className:Q.a.rangeWrapper},n.a.createElement("div",{className:Q.a.label},c),n.a.createElement(Z.a,{value:r,max:t,min:a,onChange:function(e,t){o(t)},valueLabelDisplay:"auto","aria-labelledby":c+"-slider"}))},K=a(127),Y=a(31),$=a.n(Y),ee=function(){var e=Object(r.useState)([]),t=Object(l.a)(e,2),a=t[0],c=t[1],o=Object(r.useState)(""),s=Object(l.a)(o,2),i=s[0],u=s[1],m=Object(r.useContext)(P),d=Object(r.useContext)(W).rawStores().filter((function(e){return e.storeName.toUpperCase().includes(i.toUpperCase())}));return n.a.createElement("div",{className:$.a.wrapper},n.a.createElement("div",null,n.a.createElement("input",{className:$.a.textField,type:"text",onChange:function(e){u(e.target.value)},value:i,placeholder:"Filtrer stores list"}),n.a.createElement("button",{className:$.a.clearButton,onClick:function(){return u(""),c([]),void m.setFilter({name:"store",value:[]})}},"CLEAR")),n.a.createElement(K.a,{className:$.a.select,multiple:!0,native:!0,value:a,onChange:function(e){console.log("changing");for(var t=e.target.options,a=[],r=0,n=t.length;r<n;r+=1)t[r].selected&&a.push(t[r].value);c(a),m.setFilter({name:"store",value:a})}},d.map((function(e){return n.a.createElement("option",{className:$.a.option,value:e.storeId,key:e.storeId},e.storeName)}))))},te=function(){var e=Object(r.useContext)(P);return n.a.createElement(n.a.Fragment,null,n.a.createElement(ee,null),n.a.createElement(J,{min:0,max:500,values:e.state.price,setValues:function(t){e.setFilter({name:"price",value:[t[0],t[1]]})},variable:"Price",variableName:"Price [nok]"}),n.a.createElement(J,{min:0,max:20,values:e.state.abv,setValues:function(t){e.setFilter({name:"abv",value:[t[0],t[1]]})},variable:"abv",variableName:"Alcohol %"}),n.a.createElement(J,{min:0,max:150,values:e.state.volume,setValues:function(t){e.setFilter({name:"volume",value:[t[0],t[1]]})},variable:"volume",variableName:"Volume [cl]"}))},ae=a(130),re=a(129),ne=a(25),ce=a.n(ne),oe=function(){var e=Object(r.useState)("averageScore"),t=Object(l.a)(e,2),a=t[0],c=t[1],o=Object(r.useContext)(z),s=Object(r.useContext)(P);return n.a.createElement("div",{className:ce.a.wrapping},"Sort by",n.a.createElement("div",{className:ce.a.dropdownWrap},n.a.createElement(K.a,{className:ce.a.dropdown,value:a,onChange:function(e){c(e.target.value),o.setSorting(e.target.value)}},n.a.createElement(ae.a,{value:"averageScore"},"Rating"),n.a.createElement(ae.a,{value:"abv"},"Alcohol %"),n.a.createElement(ae.a,{value:"volume"},"Volume"),n.a.createElement(ae.a,{value:"totalCheckins"},"Checkins"),n.a.createElement(ae.a,{value:"price"},"Price"))),n.a.createElement("div",{className:ce.a.checkboxWrap},"Desc",n.a.createElement(re.a,{checked:o.descending,onChange:function(e){o.setDecending(e.target.checked)},value:"primary",color:"primary",inputProps:{"aria-label":"primary checkbox"}})),n.a.createElement("div",{className:ce.a.checkboxWrap},"New",n.a.createElement(re.a,{checked:s.showNew,onChange:function(e){s.setNew(e.target.checked)},value:"primary",color:"primary",inputProps:{"aria-label":"primary checkbox"}})),n.a.createElement("div",{className:ce.a.checkboxWrap},"TBA",n.a.createElement(re.a,{checked:s.tba,onChange:function(e){s.setTba(e.target.checked)},value:"primary",color:"primary",inputProps:{"aria-label":"primary checkbox"}})))},le=a(40),se=a.n(le),ie=n.a.createElement("svg",{viewBox:"0 0 24 24",fill:"#000000"},n.a.createElement("path",{d:"M 13.261719 14.867188 L 15.742188 17.347656 C 15.363281 18.070313 15.324219 18.789063 15.722656 19.1875 L 20.25 23.714844 C 20.820313 24.285156 22.0625 23.972656 23.015625 23.015625 C 23.972656 22.058594 24.285156 20.820313 23.714844 20.25 L 19.191406 15.722656 C 18.789063 15.324219 18.070313 15.363281 17.347656 15.738281 L 14.867188 13.261719 Z M 8.5 0 C 3.804688 0 0 3.804688 0 8.5 C 0 13.195313 3.804688 17 8.5 17 C 13.195313 17 17 13.195313 17 8.5 C 17 3.804688 13.195313 0 8.5 0 Z M 8.5 15 C 4.910156 15 2 12.089844 2 8.5 C 2 4.910156 4.910156 2 8.5 2 C 12.089844 2 15 4.910156 15 8.5 C 15 12.089844 12.089844 15 8.5 15 Z"})),ue=function(){var e=Object(r.useContext)(W),t=function(){e.getData()};return n.a.createElement("div",{className:se.a.wrapper},n.a.createElement("input",{className:se.a.textField,type:"text",onChange:function(t){return e.setQuery(t.target.value)},onKeyPress:function(e){"Enter"===e.key&&t()},value:e.state.query,placeholder:"Filtrer stores list"}),n.a.createElement("button",{className:se.a.searchButton,onClick:function(){return t()}},ie))},me=a(47),de=a.n(me),pe=function(){var e=Object(r.useState)(0),t=Object(l.a)(e,2),a=t[0],c=t[1],o=Object(r.useContext)(P);return n.a.createElement("div",{className:de.a.wrapper},"Minimum Rating",n.a.createElement(Z.a,{className:de.a.slider,value:a,defaultValue:5,step:.1,min:0,max:5,onChange:function(e,t){return c(t)},onChangeCommitted:function(e,t){c(t),o.setFilter({name:"averageScore",value:t})},valueLabelDisplay:"auto",track:"inverted"}))},ve=n.a.createElement("svg",{"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"filter",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},n.a.createElement("path",{fill:"currentColor",d:"M487.976 0H24.028C2.71 0-8.047 25.866 7.058 40.971L192 225.941V432c0 7.831 3.821 15.17 10.237 19.662l80 55.98C298.02 518.69 320 507.493 320 487.98V225.941l184.947-184.97C520.021 25.896 509.338 0 487.976 0z"})),fe=n.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},n.a.createElement("path",{d:"M20.285 2l-11.285 11.567-5.286-5.011-3.714 3.716 9 8.728 15-15.285z"})),be=function(){var e=Object(r.useContext)(P),t=Object(r.useState)(!1),a=Object(l.a)(t,2),c=a[0],o=a[1];return n.a.createElement("div",{className:X.a.wrapper},n.a.createElement("div",{className:X.a.inside},n.a.createElement("div",{className:X.a.logo},"\xf8lPol"),n.a.createElement("div",{className:X.a.filtersAndButtons},n.a.createElement(ue,null),c&&n.a.createElement(pe,null),c&&n.a.createElement(te,null),n.a.createElement(oe,null)),n.a.createElement("div",{className:X.a.buttonGroup},n.a.createElement("button",{className:X.a.filterButton,onClick:function(){return o(!c)}},ve),c&&n.a.createElement("button",{className:X.a.filterButton,onClick:function(){e.applyFilter()}},fe))))},_e=function(){return n.a.createElement("div",{className:"App"},n.a.createElement(L,null,n.a.createElement(M,null,n.a.createElement(q,null,n.a.createElement(be,null),n.a.createElement(T,null)))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(n.a.createElement(_e,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[71,1,2]]]);
//# sourceMappingURL=main.62fdbb83.chunk.js.map